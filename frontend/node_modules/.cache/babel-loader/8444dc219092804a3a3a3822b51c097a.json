{"ast":null,"code":"var _jsxFileName = \"/home/monky/Grp10LargeProject/Grp10LargeProject/frontend/src/components/SendPass.js\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { ACCESS_TOKEN_NAME } from \"../constants/apiConstants.js\";\nimport \"./Email.css\";\n\nfunction SendPass(props) {\n  // local details\n  const [state, setState] = useState({\n    login: \"\",\n    successMessage: null,\n    successState: null\n  });\n\n  const handleChange = e => {\n    const {\n      id,\n      value\n    } = e.target;\n    setState(prevState => ({ ...prevState,\n      [id]: value\n    }));\n  };\n\n  const handleSubmitClick = e => {\n    e.preventDefault();\n    const payload = {\n      login: state.login\n    };\n    axios.post(\"https://letsbuckit.herokuapp.com/api/send-password-recovery\", payload).then(function (response) {\n      if (response.status === 200) {\n        setState(prevState => ({ ...prevState,\n          successMessage: \"Check your email for instructions\",\n          successState: true\n        }));\n      } else if (response.status === 204) {\n        setState(prevState => ({ ...prevState,\n          successMessage: \"No email found\",\n          successState: false\n        }));\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    class: \"registerContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"link\", {\n    rel: \"preconnect\",\n    href: \"https://fonts.gstatic.com\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"link\", {\n    href: \"https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap\",\n    rel: \"stylesheet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"registerTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 3\n    }\n  }, \"Password Reset\"), /*#__PURE__*/React.createElement(\"input\", {\n    class: \"formItem\",\n    id: \"login\",\n    type: \"text\",\n    placeholder: \"Username\",\n    onChange: handleChange,\n    value: state.login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"fieldCaption\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 1\n    }\n  }, \"An email will be sent to the account associated with this login\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    class: \"btn registerButton\",\n    onClick: handleSubmitClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 1\n    }\n  }, \"Send Reset Email\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"links\",\n    style: {\n      color: !state.successState ? '#7b0000' : \"#77dd77\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 1\n    }\n  }, state.successMessage));\n}\n\nexport default SendPass;","map":{"version":3,"sources":["/home/monky/Grp10LargeProject/Grp10LargeProject/frontend/src/components/SendPass.js"],"names":["React","useEffect","useState","axios","ACCESS_TOKEN_NAME","SendPass","props","state","setState","login","successMessage","successState","handleChange","e","id","value","target","prevState","handleSubmitClick","preventDefault","payload","post","then","response","status","catch","error","console","log","color"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { ACCESS_TOKEN_NAME } from \"../constants/apiConstants.js\";\n\nimport \"./Email.css\";\n\nfunction SendPass(props) {\n  // local details\n  const [state, setState] = useState({\n    login: \"\",\n    successMessage: null,\n    successState: null\n  });\n  const handleChange = (e) => {\n    const { id, value } = e.target;\n    setState((prevState) => ({\n      ...prevState,\n      [id]: value,\n    }));\n  };\n\n  const handleSubmitClick = (e) => {\n    e.preventDefault();\n    const payload = {\n      login: state.login,\n    };\n    axios\n      .post(\n        \"https://letsbuckit.herokuapp.com/api/send-password-recovery\",\n        payload\n      )\n      .then(function (response) {\n        if (response.status === 200) {\n          setState((prevState) => ({\n            ...prevState,\n            successMessage: \"Check your email for instructions\",\n            successState: true\n          }));\n        } else if (response.status === 204) {\n          setState((prevState) => ({\n            ...prevState,\n            successMessage: \"No email found\",\n            successState: false\n          }));\n        }\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  };\n\n  return (\n    <div class=\"registerContainer\">\n      <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\"></link>\n        <link href=\"https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap\" rel=\"stylesheet\"></link>\n  <div class=\"registerTitle\">\n    Password Reset\n  </div>\n  <input class=\"formItem\" id=\"login\" type=\"text\" placeholder=\"Username\" onChange={handleChange} value={state.login}></input>\n<div class=\"fieldCaption\">An email will be sent to the account associated with this login</div>\n<button type=\"button\" class=\"btn registerButton\" onClick={handleSubmitClick}>Send Reset Email</button>\n<div class=\"links\" style={{ color: !state.successState ? '#7b0000' : \"#77dd77\"}}>{state.successMessage}</div>\n</div>\n  );\n}\n\nexport default SendPass;\n"]},"metadata":{},"sourceType":"module"}