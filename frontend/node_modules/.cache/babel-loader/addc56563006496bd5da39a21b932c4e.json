{"ast":null,"code":"var _jsxFileName = \"/home/monky/Grp10LargeProject/Grp10LargeProject/frontend/src/components/Friends.js\";\nimport React, { setState, useState, useEffect } from \"react\";\nimport \"./Popup.js\";\nimport Popup from \"./Popup.js\";\nimport axios from \"axios\";\nimport './RegistrationForm/RegistrationForm.css';\n\nfunction Friends() {\n  function FriendContainer(props) {\n    return props.state.localFriends.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 11,\n          columnNumber: 14\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        class: \"btn friendBox\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 11,\n          columnNumber: 19\n        }\n      }, '@' + item.login));\n    });\n  }\n\n  const jwt = require(\"jsonwebtoken\");\n\n  var storage = require(\"../tokenStorage.js\");\n\n  var tok = storage.retrieveToken();\n  var ud = jwt.decode(tok, {\n    json: true\n  });\n  var localUserID = ud.userID;\n  const [buttonPopup, setButtonPopup] = useState(false);\n  const [friendReq, setFriend] = useState([]);\n  const [state, setState] = useState({\n    localFriends: []\n  }); //function to get the friends data\n\n  const getFriends = () => {\n    //get is getting every response by the endpoint\n    const payload = {\n      userID: localUserID\n    };\n    axios.post(\"https://letsbuckit.herokuapp.com/api/fr-allfriends\", payload).then(response => {\n      setState({\n        localFriends: response.data.results\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }; // this is going to delete the item from the\n\n\n  const deleteFriend = () => {\n    const payload = {\n      userID: localUserID,\n      friendID: localfriendsId\n    };\n    axios.post(\"https://letsbuckit.herokuapp.com/api/fr-remove\", payload).then(response => {\n      var responseList = response.data.results;\n      console.log(responseList);\n      window.location.reload(true);\n    });\n  };\n\n  useEffect(() => {\n    getFriends();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    class: \"friendContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"btn returnHomeButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 3\n    }\n  }, \"Return Home\"), /*#__PURE__*/React.createElement(\"input\", {\n    class: \"searchBarHome form-control\",\n    placeholder: \"Search Friends...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    class: \"btn addFriendButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 3\n    }\n  }, \"Add friend +\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"friendBoxContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(FriendContainer, {\n    state: state,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 3\n    }\n  })));\n}\n\nexport default Friends;","map":{"version":3,"sources":["/home/monky/Grp10LargeProject/Grp10LargeProject/frontend/src/components/Friends.js"],"names":["React","setState","useState","useEffect","Popup","axios","Friends","FriendContainer","props","state","localFriends","map","item","index","login","jwt","require","storage","tok","retrieveToken","ud","decode","json","localUserID","userID","buttonPopup","setButtonPopup","friendReq","setFriend","getFriends","payload","post","then","response","data","results","catch","err","console","log","deleteFriend","friendID","localfriendsId","responseList","window","location","reload"],"mappings":"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","sourcesContent":["import React, { setState, useState, useEffect } from \"react\";\nimport \"./Popup.js\";\nimport Popup from \"./Popup.js\";\nimport axios from \"axios\";\nimport './RegistrationForm/RegistrationForm.css'\nfunction Friends() {\n\n  function FriendContainer(props){\n    return(\n    props.state.localFriends.map((item, index) => {\n      return(<div><button class=\"btn friendBox\">{'@' + item.login}</button></div>)\n    })\n    )\n  }\n  \n  const jwt = require(\"jsonwebtoken\");\n  var storage = require(\"../tokenStorage.js\");\n\n  var tok = storage.retrieveToken();\n  var ud = jwt.decode(tok, { json: true });\n\n  var localUserID = ud.userID;\n\n  const [buttonPopup, setButtonPopup] = useState(false);\n  const [friendReq, setFriend] = useState([]);\n  const [state, setState] = useState({\n    localFriends: []\n  });\n\n  //function to get the friends data\n  const getFriends = () => {\n    //get is getting every response by the endpoint\n    const payload = { userID: localUserID };\n    axios\n      .post(\"https://letsbuckit.herokuapp.com/api/fr-allfriends\", payload)\n      .then((response) => {\n        setState({\n          localFriends:response.data.results\n        });\n      })\n      .catch(err =>{\n        console.log(err);\n      })\n  };\n\n  // this is going to delete the item from the\n  const deleteFriend = () => {\n    const payload = { userID: localUserID, friendID: localfriendsId };\n    axios\n      .post(\"https://letsbuckit.herokuapp.com/api/fr-remove\", payload)\n      .then((response) => {\n        var responseList = response.data.results;\n        console.log(responseList);\n        window.location.reload(true);\n      });\n  };\n\n  useEffect(() => {\n    getFriends();\n  }, []);\n\n\n  return (\n    <div class=\"friendContainer\">\n  <button class=\"btn returnHomeButton\">Return Home</button>\n  <input class=\"searchBarHome form-control\" placeholder=\"Search Friends...\"></input>\n  <button class=\"btn addFriendButton\">Add friend +</button>\n<div class=\"friendBoxContainer\">\n  <FriendContainer state={state}/>\n  </div>\n</div>\n  );\n}\n\nexport default Friends;\n"]},"metadata":{},"sourceType":"module"}