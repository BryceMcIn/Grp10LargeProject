{"ast":null,"code":"var _jsxFileName = \"/home/monky/Grp10LargeProject/Grp10LargeProject/frontend/src/components/RegistrationForm/RegistrationForm.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport './RegistrationForm.css';\nimport { API_BASE_URL, ACCESS_TOKEN_NAME } from '../../constants/apiConstants';\nimport { withRouter } from \"react-router-dom\";\n\nfunction RegistrationForm(props) {\n  const [state, setState] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    successMessage: null\n  });\n\n  const handleChange = e => {\n    const {\n      id,\n      value\n    } = e.target;\n    setState(prevState => ({ ...prevState,\n      [id]: value\n    }));\n  };\n\n  const sendDetailsToServer = () => {\n    if (state.email.length && state.password.length) {\n      props.showError(null);\n      const payload = {\n        \"email\": state.email,\n        \"password\": state.password,\n        \"firstName\": state.firstName,\n        \"lastName\": state.lastName,\n        \"login\": state.username\n      };\n      axios.post('/api/register', payload).then(function (response) {\n        if (response.status === 200) {\n          setState(prevState => ({ ...prevState,\n            'successMessage': 'Registration successful. Redirecting to home page..'\n          }));\n          redirectToLogin();\n          props.showError(null);\n        } else {\n          props.showError(\"Some error ocurred\");\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } else {\n      props.showError('Please enter valid username and password');\n    }\n  }; // this is to redirect the props to different pages\n\n\n  const redirectToLogin = () => {\n    props.updateTitle('Login');\n    props.history.push('/login');\n  };\n\n  const handleSubmitClick = e => {\n    e.preventDefault();\n\n    if (state.password === state.confirmPassword) {\n      sendDetailsToServer();\n    } else {\n      props.showError('Passwords do not match');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    class: \"registerContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"link\", {\n    rel: \"preconnect\",\n    href: \"https://fonts.gstatic.com\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"link\", {\n    href: \"https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap\",\n    rel: \"stylesheet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"registerTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, \"Registration\"), /*#__PURE__*/React.createElement(\"input\", {\n    class: \"formItemHalf\",\n    type: \"text\",\n    id: \"firstName\",\n    value: state.firstName,\n    onChange: handleChange,\n    placeholder: \"First\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    class: \"formItemHalf\",\n    id: \"lastName\",\n    value: state.lastName,\n    onChange: handleChange,\n    type: \"text\",\n    placeholder: \"Last\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    class: \"formItem \",\n    id: \"email\",\n    value: state.username,\n    onChange: handleChange,\n    type: \"email\",\n    placeholder: \"Email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    class: \"formItem\",\n    id: \"username\",\n    value: state.username,\n    onChange: handleChange,\n    type: \"text\",\n    placeholder: \"Username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    class: \"formItem\",\n    id: \"password\",\n    value: state.password,\n    onChange: handleChange,\n    type: \"text\",\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    class: \"formItem\",\n    id: \"confirmPassword\",\n    value: state.confirmPassword,\n    onChange: handleChange,\n    type: \"text\",\n    placeholder: \"Re-Type Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: handleSubmitClick,\n    class: \"btn registerButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, \"Register\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"links\",\n    onClick: () => redirectToLogin(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, \"Already have an account? Click here!\"));\n}\n\nexport default withRouter(RegistrationForm);","map":{"version":3,"sources":["/home/monky/Grp10LargeProject/Grp10LargeProject/frontend/src/components/RegistrationForm/RegistrationForm.js"],"names":["React","useState","axios","API_BASE_URL","ACCESS_TOKEN_NAME","withRouter","RegistrationForm","props","state","setState","firstName","lastName","username","email","password","confirmPassword","successMessage","handleChange","e","id","value","target","prevState","sendDetailsToServer","length","showError","payload","post","then","response","status","redirectToLogin","catch","error","console","log","updateTitle","history","push","handleSubmitClick","preventDefault"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport axios from 'axios';\nimport './RegistrationForm.css';\nimport {API_BASE_URL, ACCESS_TOKEN_NAME} from '../../constants/apiConstants';\nimport { withRouter } from \"react-router-dom\";\n\nfunction RegistrationForm(props) {\n    const [state , setState] = useState({\n        firstName :\"\",\n        lastName :\"\",\n        username :\"\",\n        email : \"\",\n        password : \"\",\n        confirmPassword: \"\",\n        successMessage: null\n    })\n    const handleChange = (e) => {\n        const {id , value} = e.target   \n        setState(prevState => ({\n            ...prevState,\n            [id] : value\n        }))\n    }\n    const sendDetailsToServer = () => {\n        if(state.email.length && state.password.length) {\n            props.showError(null);\n            const payload={\n                \"email\":state.email,\n                \"password\":state.password,\n                \"firstName\":state.firstName,\n                \"lastName\":state.lastName,\n                \"login\":state.username\n            }\n            axios.post('/api/register', payload)\n                .then(function (response) {\n                    if(response.status === 200){\n                        setState(prevState => ({\n                            ...prevState,\n                            'successMessage' : 'Registration successful. Redirecting to home page..'\n                        }))\n                        redirectToLogin();\n                        props.showError(null)\n                    } else{\n                        props.showError(\"Some error ocurred\");\n                    }\n                })\n                .catch(function (error) {\n                    console.log(error);\n                });    \n        } else {\n            props.showError('Please enter valid username and password')    \n        }\n        \n    }\n\n    // this is to redirect the props to different pages\n    const redirectToLogin = () => {\n        props.updateTitle('Login')\n        props.history.push('/login'); \n    }\n    const handleSubmitClick = (e) => {\n        e.preventDefault();\n        if(state.password === state.confirmPassword) {\n            sendDetailsToServer()    \n        } else {\n            props.showError('Passwords do not match');\n        }\n    }\n    return(\n\n\n\n        <div class=\"registerContainer\">\n                  <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\"></link>\n        <link href=\"https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap\" rel=\"stylesheet\"></link>\n        <div class=\"registerTitle\">\n                Registration\n        </div>\n        <input class=\"formItemHalf\" type=\"text\" id=\"firstName\" value={state.firstName}\n                        onChange={handleChange}  placeholder=\"First\"></input>\n        <input class=\"formItemHalf\" id=\"lastName\" value={state.lastName}\n                        onChange={handleChange} type=\"text\" placeholder=\"Last\"></input>\n        <input class=\"formItem \" id=\"email\" value={state.username}\n                        onChange={handleChange} type=\"email\" placeholder=\"Email\"></input>\n        <input class=\"formItem\" id=\"username\" value={state.username}\n                        onChange={handleChange} type=\"text\" placeholder=\"Username\"></input>\n        <input class=\"formItem\" id=\"password\" value={state.password}\n                        onChange={handleChange}  type=\"text\" placeholder=\"Password\"></input>\n        <input class=\"formItem\" id=\"confirmPassword\" value={state.confirmPassword}\n                        onChange={handleChange} type=\"text\" placeholder=\"Re-Type Password\"></input>\n        <button type=\"button\" onClick={handleSubmitClick} class=\"btn registerButton\">Register</button>\n        <div class=\"links\" onClick={() => redirectToLogin()}>Already have an account? Click here!</div>\n        </div>\n    )\n}\n\nexport default withRouter(RegistrationForm);"]},"metadata":{},"sourceType":"module"}